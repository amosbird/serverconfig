#!/usr/bin/env bash

# bash logging
# set -x
# exec 3>&1 4>&2
# trap 'exec 2>&4 1>&3' 0 1 2 3
# exec 1>>/tmp/winstart.log 2>&1

qq='"C:\Program Files (x86)\Tencent\TIM\Bin\Timwp.exe"'
ww='"C:\Program Files (x86)\AliWangWang\9.12.10C\WWCmd.exe"'

case "$1" in
    qq)
        cmd=$qq
        ;;
    ww)
        cmd=$ww
        ;;
    *)
        echo error
        exit 1
esac

url=${2//&/^&}

cmd=( "$cmd" "$url" )

echo -n "${cmd[@]}" > /dev/udp/192.168.122.109/11000

bspc desktop --focus w
